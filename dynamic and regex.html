<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FORM-VALIDATON</title>
</head>

<body>
  <div id="form-valitation">
    <button id="display" type="button"> START</button>
  </div>

  <script id="script">

    document.getElementById("display").addEventListener("click", () => {
      let displaydiv = document.createElement("div");
      displaydiv.setAttribute("id", "display");
      document.body.insertBefore(displaydiv, document.getElementById("script"));

      let form1 = document.createElement("form");
      displaydiv.appendChild(form1);

      let field = document.createElement("fieldset");
      form1.appendChild(field);

      let label1 = document.createElement("label");
      label1.setAttribute("id", "labelemail");  
      let con = document.createTextNode("Email ");
      label1.appendChild(con);
      field.appendChild(label1);

      let inputemail = document.createElement("input");
      inputemail.setAttribute("type", "email");
      inputemail.setAttribute("placeholder", "Enter your Email");
      inputemail.setAttribute("name", "inputemail");
      field.appendChild(inputemail);

      let br = document.createElement("br");
      field.appendChild(br);
      let br1 = document.createElement("br");
      field.appendChild(br1);

      let label2 = document.createElement("label");
      label2.setAttribute("id", "labelpassword");
      let con1 = document.createTextNode("Password ");
      label2.appendChild(con1);
      field.appendChild(label2);

      let inputpassword = document.createElement("input");
      inputpassword.setAttribute("type", "password");
      inputpassword.setAttribute("placeholder", "Enter your password");
      inputpassword.setAttribute("name", "inputpassword");
      field.appendChild(inputpassword);

      let br3 = document.createElement("br");
      field.appendChild(br3);
      let br4 = document.createElement("br");
      field.appendChild(br4);

      let inputsubmit = document.createElement("input");
      inputsubmit.setAttribute("type", "submit");
      inputsubmit.setAttribute("value", "submit");
      field.appendChild(inputsubmit);

      let inputbutton = document.createElement("input");
      inputbutton.setAttribute("type", "button");
      inputbutton.setAttribute("value", "Register");
      //   inputbutton.setAttribute("onclick", "regi()");
      field.appendChild(inputbutton);

      //register creation

      inputbutton.addEventListener("click", () => {
        let form1 = document.createElement("form");
        displaydiv.appendChild(form1);

        let field = document.createElement("fieldset");
        form1.appendChild(field);

        let labelname = document.createElement("label");
        labelname.setAttribute("id", "labelname");
        let con2 = document.createTextNode("Name ");
        labelname.appendChild(con2);
        field.appendChild(labelname);

        let inputname = document.createElement("input");
        inputname.setAttribute("type", "text");
        inputname.setAttribute("placeholder", "Enter your name");
        field.appendChild(inputname);

        let br5 = document.createElement("br");
        field.appendChild(br5);
        let br6 = document.createElement("br");
        field.appendChild(br6);

        let labelage = document.createElement("label");
        labelage.setAttribute("id", "labelage");
        let con3 = document.createTextNode("Age ");
        labelage.appendChild(con3);
        field.appendChild(labelage);

        let inputage = document.createElement("input");
        inputage.setAttribute("type", "text");                     //age input type
        inputage.setAttribute("placeholder", "Enter your age");
        field.appendChild(inputage);

        let br7 = document.createElement("br");
        field.appendChild(br7);
        let br8 = document.createElement("br");
        field.appendChild(br8);

        let email = document.createElement("label");
        email.setAttribute("id", "labelemail");
        let con4 = document.createTextNode("Email");
        email.appendChild(con4);
        field.appendChild(email);

        let email1 = document.createElement("input");
        email1.setAttribute("type", "email");                   //email input type
        email1.setAttribute("placeholder", "Enter your email id");
        field.appendChild(email1);

        let br9 = document.createElement("br");
        field.appendChild(br9);
        let br10 = document.createElement("br");
        field.appendChild(br10);

        let pass = document.createElement("label");
        pass.setAttribute("id", "labelpass");
        let con5 = document.createTextNode("Create Password");
        pass.appendChild(con5);
        field.appendChild(pass);

        let pass1 = document.createElement("input");
        pass1.setAttribute("type", "password");                 //password input type
        pass1.setAttribute("placeholder", "Password");
        field.appendChild(pass1);

        let br11 = document.createElement("br");
        field.appendChild(br11);
        let br12 = document.createElement("br");
        field.appendChild(br12);

        let confirm = document.createElement("label");
        confirm.setAttribute("id", "labelpass");                //confirm password
        let con6 = document.createTextNode("Confirm Password");
        confirm.appendChild(con6);
        field.appendChild(confirm);

        let confirm1 = document.createElement("input");
        confirm1.setAttribute("type", "password");
        confirm1.setAttribute("placeholder", "Password");
        field.appendChild(confirm1);

        let br13 = document.createElement("br");
        field.appendChild(br13);
        let br14 = document.createElement("br");
        field.appendChild(br14);

        let Create = document.createElement("input");
        Create.setAttribute("type", "submit");
        Create.setAttribute("value", "Create Account");
        field.appendChild(Create);
        let test = document.createElement("input");
        test.setAttribute("type", "button");
        test.setAttribute("value", "Test");
        test.setAttribute("id", "test")
        field.appendChild(test);


        //regex
        document.getElementById("test").addEventListener("click", () => {

          // regex for name
          let nameregex = /[a-zA-Z]/;
          console.log(`name: ${nameregex.test(inputname.value)}`);

          //regx for age
          let ageregex = /[1-9]{1,2}$/;
          console.log(`age: ${ageregex.test(inputage.value)}`);

          //regex for email
          let mailregex = /^[\w]+@[a-z.]+$/;
          console.log(`mail: ${mailregex.test(email1.value)}`);

          //regex for password
          let passwordregex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*,./_-])[a-zA-Z\d!@#$%^&*,.-_]{8,}$/;
          console.log(`password: ${passwordregex.test(pass1.value)}`);


          //confirm password
          if (pass1.value === confirm1.value) {
            console.log("all okay...");
          }
          else {
            console.log("password does not match");
          }

        });


      });
    });
  </script>
</body>

</html> 